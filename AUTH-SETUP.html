<!-- 
  ============================================================================
  AUTHENTICATION SETUP GUIDE - CredHive X
  ============================================================================
  
  This guide walks you through setting up Firebase Authentication with
  Email/Password and Google OAuth for your CredHive X application.
  
  ============================================================================
  FEATURES IMPLEMENTED
  ============================================================================
  
  ‚úÖ User Registration (Email + Password)
  ‚úÖ User Login (Email + Password)
  ‚úÖ Google OAuth (Sign up & Login)
  ‚úÖ Auto Account Creation (First time Google users)
  ‚úÖ Session Management (localStorage)
  ‚úÖ Logout Functionality
  ‚úÖ User Profile Dashboard
  ‚úÖ Protected Pages (Login redirects)
  ‚úÖ Remember Me (Email persistence)
  ‚úÖ Fallback Auth (localStorage-based if Firebase not configured)
  
  ============================================================================
  FILE STRUCTURE
  ============================================================================
  
  /Fintech/
  ‚îú‚îÄ‚îÄ login.html                    ‚Üê Clean Login Page
  ‚îú‚îÄ‚îÄ signup.html                   ‚Üê Clean Signup Page
  ‚îú‚îÄ‚îÄ dashboard.html                ‚Üê User Dashboard (Protected)
  ‚îú‚îÄ‚îÄ auth-firebase.js              ‚Üê Firebase Auth Module
  ‚îú‚îÄ‚îÄ auth-firebase.css             ‚Üê Auth Styles
  ‚îú‚îÄ‚îÄ firebase-config.html          ‚Üê Firebase Config Template
  ‚îú‚îÄ‚îÄ index.html                    ‚Üê Updated with Firebase scripts
  ‚îî‚îÄ‚îÄ [other existing files]
  
  ============================================================================
  STEP 1: CREATE FIREBASE PROJECT
  ============================================================================
  
  1. Go to https://console.firebase.google.com
  2. Click "Create Project" or "Add Project"
  3. Enter project name (e.g., "CredHive X")
  4. Accept terms and click "Create Project"
  5. Wait for project to initialize (2-3 minutes)
  6. Click "Continue" when ready
  
  ============================================================================
  STEP 2: GET YOUR FIREBASE CREDENTIALS
  ============================================================================
  
  1. In Firebase Console, look for "Project Settings" (gear icon, top-right)
  2. Click on "Project Settings"
  3. Go to "General" tab
  4. Under "Your apps" section, click "Web" icon (or add app if not shown)
  5. Copy your Firebase configuration:
  
     {
       apiKey: "YOUR_API_KEY",
       authDomain: "your-project.firebaseapp.com",
       projectId: "your-project-id",
       storageBucket: "your-project.appspot.com",
       messagingSenderId: "SENDER_ID",
       appId: "APP_ID"
     }
  
  6. Save these values securely (don't share publicly!)
  
  ============================================================================
  STEP 3: ENABLE AUTHENTICATION METHODS
  ============================================================================
  
  A) Email/Password Authentication:
  
     1. In Firebase Console, go to "Authentication" (left sidebar)
     2. Click "Get started"
     3. Click on "Email/Password" provider
     4. Toggle "Enable" to ON
     5. Keep "Email link sign-in" OFF (optional, we're using password-based)
     6. Click "Save"
  
  B) Google Authentication:
  
     1. In Authentication page, click "Add new provider"
     2. Select "Google"
     3. Toggle "Enable" to ON
     4. Enter your "Project support email"
     5. Click "Save"
  
  ============================================================================
  STEP 4: UPDATE FIREBASE CONFIG IN YOUR CODE
  ============================================================================
  
  Find these three places and update with your Firebase credentials:
  
  Location 1: index.html (around line 18-28)
  Location 2: login.html (in the script at bottom)
  Location 3: signup.html (in the script at bottom)
  Location 4: dashboard.html (in the script at bottom)
  
  OLD CODE:
  ```
  const firebaseConfig = {
    apiKey: "AIzaSyC_example_key_replace_with_your_own",
    authDomain: "your-project.firebaseapp.com",
    projectId: "your-project-id",
    storageBucket: "your-project.appspot.com",
    messagingSenderId: "123456789",
    appId: "1:123456789:web:abc123def456ghi789jkl"
  };
  ```
  
  NEW CODE (Replace with your actual values):
  ```
  const firebaseConfig = {
    apiKey: "AIzaSyC_abc123def456...",  ‚Üê Your API Key
    authDomain: "credhivx-12345.firebaseapp.com",
    projectId: "credhivx-12345",
    storageBucket: "credhivx-12345.appspot.com",
    messagingSenderId: "123456789012",
    appId: "1:123456789012:web:abc123def456ghi789jkl"
  };
  ```
  
  ============================================================================
  STEP 5: TEST THE AUTHENTICATION SYSTEM
  ============================================================================
  
  Local Testing:
  
  1. Start your local server:
     npm start
     OR
     node server.js
  
  2. Open in browser:
     http://localhost:3000/index.html
  
  3. Click "üîê Login" button in header (or top-right)
     ‚Üí Should navigate to login.html
  
  4. Test Email/Password Sign Up:
     a) Click "Sign up here" link at bottom
     b) Enter name, email, password
     c) Click "‚ú® Create Account"
     d) Should redirect to dashboard.html
  
  5. Test Email/Password Login:
     a) Go to login.html
     b) Enter email and password from step 4
     c) Click "üöÄ Login"
     d) Should redirect to dashboard.html
  
  6. Test Google Login:
     a) On login page, click "üîç Continue with Google"
     b) Select your Google account
     c) Authorize the app
     d) Should redirect to dashboard.html
  
  7. Test Logout:
     a) Click user name/avatar in header
     b) Click "üö™ Logout"
     c) Should show "üîê Login" button again
  
  8. Test Session Persistence:
     a) Log in to account
     b) Refresh page (F5)
     c) You should still be logged in
     d) Check browser's Application ‚Üí Storage ‚Üí Local Storage
  
  ============================================================================
  STEP 6: CONFIGURE GOOGLE OAUTH (OPTIONAL)
  ============================================================================
  
  To use Google Login on production/live domain:
  
  1. Get your domain name (e.g., https://example.com)
  
  2. In Firebase Console:
     - Go to Authentication ‚Üí Settings (gear icon, top)
     - Scroll to "Authorized domains"
     - Click "Add domain"
     - Enter your domain (without https://)
  
  3. In Google Cloud Console:
     - Go to https://console.cloud.google.com
     - Select your Firebase project
     - Go to APIs & Services ‚Üí Credentials
     - Click OAuth 2.0 Client IDs
     - Click your Web App
     - Add your production domain to "Authorized redirect URIs":
       https://example.com
       https://example.com/login.html
  
  ============================================================================
  API REFERENCE - Using Auth in Your Code
  ============================================================================
  
  Get Current User:
  ```javascript
  const user = Auth.getCurrentUser();
  if (user) {
    console.log(user.email, user.displayName);
  }
  ```
  
  Register with Email:
  ```javascript
  try {
    const user = await Auth.registerWithEmail(email, password, displayName);
    console.log('User created:', user);
  } catch (error) {
    console.error(error.message);
  }
  ```
  
  Login with Email:
  ```javascript
  try {
    const user = await Auth.loginWithEmail(email, password);
    console.log('Logged in:', user);
  } catch (error) {
    console.error(error.message);
  }
  ```
  
  Login with Google:
  ```javascript
  try {
    const user = await Auth.loginWithGoogle();
    console.log('Logged in with Google:', user);
  } catch (error) {
    console.error(error.message);
  }
  ```
  
  Logout:
  ```javascript
  await Auth.logout();
  ```
  
  Listen to Auth Changes:
  ```javascript
  window.addEventListener('authStateChanged', (e) => {
    const user = e.detail.user;
    if (user) {
      console.log('User logged in:', user);
    } else {
      console.log('User logged out');
    }
  });
  ```
  
  ============================================================================
  PROTECTING PAGES (REDIRECT TO LOGIN)
  ============================================================================
  
  Add this code to any page you want to protect:
  
  ```javascript
  <script src="auth-firebase.js"></script>
  <script>
    window.addEventListener('load', () => {
      const user = Auth.getCurrentUser();
      if (!user) {
        window.location.href = 'login.html';
      }
      // Rest of your page code...
    });
  </script>
  ```
  
  ============================================================================
  DATABASE STORAGE (WHERE USER DATA IS STORED)
  ============================================================================
  
  Firebase:
  - User data stored in Firebase Authentication
  - Secure, encrypted, compliant with GDPR
  - No additional backend needed
  
  localStorage (Fallback):
  - Keys used: 'auth_user_firebase', 'auth_token_firebase'
  - For development/testing if Firebase not configured
  - NOT SECURE for production (passwords hashed but stored locally)
  
  ============================================================================
  COMMON ISSUES & SOLUTIONS
  ============================================================================
  
  Issue: "Firebase not configured" warning
  Solution: Ensure you've added Firebase credentials to all HTML files
  
  Issue: Google login pop-up blocked
  Solution: Google pop-ups must be initiated by user click, not auto-triggered
  
  Issue: User logged out after page refresh
  Solution: Check browser's Application ‚Üí Storage ‚Üí Local Storage
           Ensure privacy mode is OFF, cookies are allowed
  
  Issue: "Cross-origin request blocked"
  Solution: Add your domain to Firebase Authorized Domains
  
  Issue: Email verification not sending
  Solution: Check spam folder, or disable email verification in Firebase
  
  ============================================================================
  SECURITY BEST PRACTICES
  ============================================================================
  
  1. Never expose Firebase API key in production:
     ‚úì Use Firebase Web Config (safe, restricted to your domain)
     ‚úó Don't use server-side credentials on frontend
  
  2. Store sensitive data securely:
     ‚úì Use browser's sessionStorage for temporary tokens
     ‚úó Don't store passwords anywhere
  
  3. Enable Firebase Security Rules:
     In Firebase Console ‚Üí Firestore/Realtime Database ‚Üí Rules
     Restrict access to authenticated users only
  
  4. Monitor auth events:
     Firebase Console ‚Üí Authentication ‚Üí Sign-in methods
     Review unusual login patterns
  
  5. Setup reCAPTCHA:
     Firebase Console ‚Üí Authentication ‚Üí Settings ‚Üí reCAPTCHA
     Enable to prevent bot attacks
  
  ============================================================================
  NEXT STEPS
  ============================================================================
  
  1. ‚úÖ Create Firebase project (Step 1-2)
  2. ‚úÖ Enable auth methods (Step 3)
  3. ‚úÖ Update Firebase config (Step 4)
  4. ‚úÖ Test all flows (Step 5)
  5. Add database to store user preferences
  6. Add email verification
  7. Add password reset functionality
  8. Deploy to production
  
  ============================================================================
  SUPPORT & DOCUMENTATION
  ============================================================================
  
  Firebase Documentation:
  https://firebase.google.com/docs
  
  Authentication Guide:
  https://firebase.google.com/docs/auth
  
  Google OAuth Setup:
  https://firebase.google.com/docs/auth/web/google-signin
  
  ============================================================================
-->

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Authentication Setup Guide - CredHive X</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Monaco', 'Courier New', monospace;
    background: #0f172a;
    color: #cbd5e1;
    line-height: 1.8;
    padding: 40px 20px;
  }
  .container { max-width: 900px; margin: 0 auto; }
  h1, h2, h3 { color: #fff; margin: 30px 0 15px; }
  h1 { font-size: 32px; border-bottom: 3px solid #ff6b00; padding-bottom: 15px; }
  h2 { font-size: 20px; margin-top: 40px; }
  h3 { font-size: 16px; color: #a1d8ff; }
  code {
    background: #1e293b;
    padding: 2px 6px;
    border-radius: 4px;
    color: #fbbf24;
    font-size: 13px;
  }
  pre {
    background: #1e293b;
    padding: 20px;
    border-radius: 8px;
    overflow-x: auto;
    margin: 15px 0;
    border-left: 4px solid #ff6b00;
  }
  pre code { padding: 0; background: none; color: #a1d8ff; }
  a { color: #38bdf8; text-decoration: none; }
  a:hover { text-decoration: underline; }
  .step {
    background: rgba(255, 107, 0, 0.1);
    padding: 20px;
    border-radius: 8px;
    margin: 20px 0;
    border-left: 4px solid #ff6b00;
  }
  .success { color: #10b981; font-weight: bold; }
  .warning { color: #fbbf24; font-weight: bold; }
  .error { color: #ef4444; font-weight: bold; }
  ol { margin-left: 20px; }
  li { margin: 8px 0; }
  table { width: 100%; border-collapse: collapse; margin: 20px 0; }
  th, td { padding: 12px; text-align: left; border-bottom: 1px solid #334155; }
  th { background: #1e293b; color: #fff; }
  .note { background: rgba(59, 130, 246, 0.1); padding: 15px; border-radius: 6px; margin: 15px 0; border-left: 4px solid #3b82f6; }
</style>
</head>
<body>

<div class="container">

<h1>üîê Authentication Setup Guide</h1>
<p>Complete guide to set up Firebase Authentication for CredHive X</p>

<div class="note">
  <strong>üìå Overview:</strong> This system uses Firebase Authentication with Email/Password
  and Google OAuth. It includes a fallback localStorage-based auth for development.
</div>

<h2>üìã What's Included</h2>
<ul>
  <li>‚úÖ Email + Password registration & login</li>
  <li>‚úÖ Google OAuth (Single Sign-On)</li>
  <li>‚úÖ Auto account creation for new Google users</li>
  <li>‚úÖ User session management</li>
  <li>‚úÖ User dashboard</li>
  <li>‚úÖ Logout functionality</li>
  <li>‚úÖ Protected pages (login redirect)</li>
  <li>‚úÖ Remember me option</li>
  <li>‚úÖ Fallback auth (if Firebase not configured)</li>
</ul>

<h2>üöÄ Quick Start (5 Minutes)</h2>

<div class="step">
  <h3>Step 1: Create Firebase Project</h3>
  <ol>
    <li>Go to <a href="https://console.firebase.google.com" target="_blank">Firebase Console</a></li>
    <li>Click <code>Create Project</code></li>
    <li>Enter project name: <code>CredHive X</code></li>
    <li>Accept terms and click <code>Create Project</code></li>
    <li>Wait 2-3 minutes, then click <code>Continue</code></li>
  </ol>
</div>

<div class="step">
  <h3>Step 2: Get Firebase Credentials</h3>
  <ol>
    <li>Click <code>Settings</code> (gear icon) ‚Üí <code>Project Settings</code></li>
    <li>Scroll to <code>Your apps</code> section</li>
    <li>Look for Web app or click to add one</li>
    <li>Copy your Firebase config:</li>
  </ol>
  <pre><code>{
  apiKey: "YOUR_API_KEY",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-project-id",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "SENDER_ID",
  appId: "APP_ID"
}</code></pre>
</div>

<div class="step">
  <h3>Step 3: Enable Authentication Methods</h3>
  <ol>
    <li>In Firebase, click <code>Authentication</code> (left sidebar)</li>
    <li>Click <code>Get started</code></li>
    <li>Enable <code>Email/Password</code>:</li>
    <ul>
      <li>Click Email/Password</li>
      <li>Toggle <code>Enable</code> ON</li>
      <li>Click Save</li>
    </ul>
    <li>Enable <code>Google</code>:</li>
    <ul>
      <li>Click <code>Add new provider</code> ‚Üí Google</li>
      <li>Toggle <code>Enable</code> ON</li>
      <li>Enter support email</li>
      <li>Click Save</li>
    </ul>
  </ol>
</div>

<div class="step">
  <h3>Step 4: Update Config in Your Files</h3>
  <p>Replace Firebase config in these files:</p>
  <ul>
    <li><code>index.html</code> (lines 15-27)</li>
    <li><code>login.html</code> (bottom script)</li>
    <li><code>signup.html</code> (bottom script)</li>
    <li><code>dashboard.html</code> (bottom script)</li>
  </ul>
  
  <p>Find this:</p>
  <pre><code>const firebaseConfig = {
  apiKey: "AIzaSyC_example_key_replace_with_your_own",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-project-id",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abc123def456ghi789jkl"
};</code></pre>

  <p>Replace with your actual values from Step 2.</p>
</div>

<div class="step">
  <h3>Step 5: Test It Works</h3>
  <ol>
    <li>Start server: <code>npm start</code> or <code>node server.js</code></li>
    <li>Open <code>http://localhost:3000/index.html</code></li>
    <li>Click <code>üîê Login</code> button</li>
    <li>Try signing up with email/password</li>
    <li>Try Google login</li>
    <li>Try logout</li>
  </ol>
</div>

<h2>üìÑ File Structure</h2>
<table>
  <tr>
    <th>File</th>
    <th>Purpose</th>
  </tr>
  <tr>
    <td><code>login.html</code></td>
    <td>Email + Password Login</td>
  </tr>
  <tr>
    <td><code>signup.html</code></td>
    <td>Email + Password Sign Up</td>
  </tr>
  <tr>
    <td><code>dashboard.html</code></td>
    <td>User Dashboard (Protected)</td>
  </tr>
  <tr>
    <td><code>auth-firebase.js</code></td>
    <td>Auth Logic & Firebase Integration</td>
  </tr>
  <tr>
    <td><code>auth-firebase.css</code></td>
    <td>Auth UI Styles</td>
  </tr>
</table>

<h2>üíª API Reference</h2>

<h3>Check if User is Logged In</h3>
<pre><code>const user = Auth.getCurrentUser();
if (user) {
  console.log('Logged in as:', user.displayName);
}
</code></pre>

<h3>Register with Email</h3>
<pre><code>try {
  const user = await Auth.registerWithEmail(
    'email@example.com',
    'password123',
    'User Name'
  );
  console.log('Account created!', user);
} catch (error) {
  console.error(error.message);
}
</code></pre>

<h3>Login with Email</h3>
<pre><code>try {
  const user = await Auth.loginWithEmail(
    'email@example.com',
    'password123'
  );
  console.log('Logged in!', user);
} catch (error) {
  console.error(error.message);
}
</code></pre>

<h3>Login with Google</h3>
<pre><code>try {
  const user = await Auth.loginWithGoogle();
  console.log('Logged in with Google!', user);
} catch (error) {
  console.error(error.message);
}
</code></pre>

<h3>Logout</h3>
<pre><code>await Auth.logout();
console.log('Logged out!');
</code></pre>

<h3>Listen to Auth Changes</h3>
<pre><code>window.addEventListener('authStateChanged', (event) => {
  const user = event.detail.user;
  if (user) {
    console.log('User logged in:', user);
  } else {
    console.log('User logged out');
  }
});
</code></pre>

<h2>üîí Protecting Pages</h2>
<p>To require login for a page, add this code:</p>
<pre><code>&lt;script src="auth-firebase.js"&gt;&lt;/script&gt;
&lt;script&gt;
  window.addEventListener('load', () => {
    const user = Auth.getCurrentUser();
    if (!user) {
      window.location.href = 'login.html';
    }
  });
&lt;/script&gt;</code></pre>

<h2>üåê Production Deployment</h2>
<ol>
  <li><span class="success">‚úÖ Test locally with Firebase credentials</span></li>
  <li>Go to Firebase Console ‚Üí Authentication ‚Üí Settings</li>
  <li>Scroll to "Authorized domains"</li>
  <li>Click "Add domain" and enter your production domain</li>
  <li>For Google OAuth, update consent screen in Google Cloud Console</li>
  <li>Deploy your app to production domain</li>
</ol>

<h2>‚ùì Troubleshooting</h2>
<table>
  <tr>
    <th>Issue</th>
    <th>Solution</th>
  </tr>
  <tr>
    <td>"Firebase is not defined"</td>
    <td>Ensure Firebase scripts are loaded before <code>auth-firebase.js</code></td>
  </tr>
  <tr>
    <td>Google login pop-up blocked</td>
    <td>Allow pop-ups for your domain in browser settings</td>
  </tr>
  <tr>
    <td>User logged out after refresh</td>
    <td>Check browser privacy settings, enable localStorage/cookies</td>
  </tr>
  <tr>
    <td>Email already exists error</td>
    <td>Try logging in instead or use a different email</td>
  </tr>
  <tr>
    <td>CORS errors</td>
    <td>Add your domain to Firebase Authorized Domains</td>
  </tr>
</table>

<h2>üìö Resources</h2>
<ul>
  <li><a href="https://firebase.google.com/docs/auth" target="_blank">Firebase Auth Docs</a></li>
  <li><a href="https://firebase.google.com/docs/auth/web/google-signin" target="_blank">Google Sign-In Setup</a></li>
  <li><a href="https://console.firebase.google.com" target="_blank">Firebase Console</a></li>
  <li><a href="https://console.cloud.google.com" target="_blank">Google Cloud Console</a></li>
</ul>

<div class="note">
  <strong>üéâ You're all set!</strong> You now have a complete authentication system
  with email/password and Google OAuth. Test it, customize as needed, and deploy to production!
</div>

</div>

</body>
</html>
